(window["webpackJsonpmn-matrix_react-redux"]=window["webpackJsonpmn-matrix_react-redux"]||[]).push([[0],{15:function(e,t,n){e.exports=n(30)},25:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(5),l=n.n(u),c=n(1),o=(n(25),n(13)),i=n(4),s=n(6),m=n(12),f=n.n(m),p=function(){var e;do{e=Math.trunc(1e3*Math.random())}while(e<100);return{uuid:f()(),value:e}},E=function(e){for(var t=e.rowCount,n=e.columnCount,r=[],a=0;a<t;a++){r.push([]);for(var u=0;u<n;u++)r[a].push(p())}return r},b=function(e){for(var t=[],n=0;n<e;n++)t.push(p());return t};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e,t,n){if(null===n)return e.map((function(e){return e.map((function(e){return!0===e.nearest?v({},e,{nearest:!1}):e}))}));var r=e.map((function(e){return e.map((function(e){return v({},e,{diff:Math.abs(e.value-n.value)})}))})).flat().sort((function(e,t){return e.diff-t.diff})).filter((function(e){return e.uuid!==n.uuid})).map((function(e){return e.value}));return r.length=t,e.map((function(e){return e.map((function(e){return r.indexOf(e.value)>=0?v({},e,{nearest:!0}):e}))}))};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=Object(s.b)((function(e,t){switch(t.type){case"LOADING":return g({},e,{loading:!0,loaded:!1});case"LOADED":return g({},e,{loading:!1,loaded:!0});case"GENERATE_TABLE":return g({},e,{nearestCount:t.tableVars.nearestCount,rowCount:t.tableVars.rowCount,columnCount:t.tableVars.columnCount,nums:E(t.tableVars)});case"ADD_ROW":return g({},e,{nums:[].concat(Object(o.a)(e.nums),[b(e.columnCount)])});case"REMOVE_ROW":return g({},e,{nums:e.nums.filter((function(e,n){return n!==t.rowIndex}))});case"INCREASE":return g({},e,{nums:e.nums.map((function(e){return e.map((function(e){return e.uuid!==t.uuid?e:g({},e,{value:e.value+1})}))}))});case"DECREASE":return g({},e,{nums:e.nums.map((function(e){return e.map((function(e){return e.uuid!==t.uuid?e:g({},e,{value:e.value-1})}))}))});case"SET_PERCENTAGE_ROW":return g({},e,{percentageRow:t.rowIndex});case"SET_NEAREST_CELLS":return g({},e,{nums:O(e.nums,e.nearestCount,t.cell)});default:return e}}),{rowCount:null,columnCount:null,nearestCount:null,nearestCells:[],nums:[],startLoading:!1,finishLoading:!1,percentageRow:null}),h=(n(28),n(29),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"scaling-squares-spinner"},a.a.createElement("div",{className:"square"}),a.a.createElement("div",{className:"square"}),a.a.createElement("div",{className:"square"}),a.a.createElement("div",{className:"square"})),a.a.createElement("p",{className:"spinner-header"},"Table construction is in progress..."))}),C=Object(c.b)((function(e){return{nums:e.nums}}),null)((function(e){var t=e.nums;return a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Row"),t[0].map((function(e,t){return a.a.createElement("th",{key:t},"Column ",t+1)})),a.a.createElement("th",null,"Sum")))})),_=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r][t].value;return Math.trunc(n/e.length)},j=Object(c.b)((function(e){return{nums:e.nums}}),null)((function(e){var t=e.nums;return a.a.createElement("tfoot",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Average"),t[0].map((function(e,n){return a.a.createElement("td",{key:n},_(t,n))})),a.a.createElement("td",null)))})),N=function(e){return e.reduce((function(e,t){var n=t.value;return e.value+n||e+n}))},R=Object(c.b)(null,(function(e){return{increase:function(t){return e(function(e){return{type:"INCREASE",uuid:e}}(t))},decrease:function(t){return e(function(e){return{type:"DECREASE",uuid:e}}(t))},setNearestCells:function(t){return e(function(e){return{type:"SET_NEAREST_CELLS",cell:e}}(t))}}}))((function(e){var t=e.cell,n=e.increase,r=e.decrease,u=e.setNearestCells,l=e.rowSum,c=Math.round(t.value/l*1e4)/100;return a.a.createElement("td",{className:"table__cell ".concat(t.nearest?"nearest":""," "),onClick:function(){return n(t.uuid)},onContextMenu:function(e){e.preventDefault(),r(t.uuid)}},a.a.createElement("div",{className:"table__cell-container",onMouseOver:function(){return u(t)},onMouseLeave:function(){return u(null)}},a.a.createElement("span",{className:"table__cell-absolut"},t.value),a.a.createElement("div",{className:"table__cell-percentage"},a.a.createElement("div",{className:"chart",style:{height:"".concat(c,"%")}}),"".concat(c,"%"))))})),P=Object(c.b)((function(e){return{percentageRow:e.percentageRow}}),(function(e){return{removeRow:function(t){return e(function(e){return{type:"REMOVE_ROW",rowIndex:e}}(t))},setPercentageRow:function(t){return e(function(e){return{type:"SET_PERCENTAGE_ROW",rowIndex:e}}(t))}}}))((function(e){var t=e.row,n=e.rowIndex,r=e.removeRow,u=e.percentageRow,l=e.setPercentageRow,c=N(t);return a.a.createElement("tr",{className:n===u?"table__row--show-percentage":void 0},a.a.createElement("td",{className:"table__row-name",onClick:function(){return r(n)}},a.a.createElement("span",{className:"table__row-title"},"Row ",n+1),a.a.createElement("span",{className:"table__row-action"},"Remove row")),t.map((function(e){return a.a.createElement(R,{cell:e,rowSum:c,key:e.uuid})})),a.a.createElement("td",{onMouseOver:function(){return l(n)},onMouseLeave:function(){return l(null)}},c))})),D=Object(c.b)((function(e){return{nums:e.nums}}),(function(e){return{addRow:function(){return e({type:"ADD_ROW"})}}}))((function(e){var t=e.nums,n=e.addRow;return a.a.createElement("tbody",null,t.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(P,{row:e,rowIndex:t}))})),a.a.createElement("tr",null,a.a.createElement("td",{className:"table__add-row"},a.a.createElement("button",{type:"button",className:"table__add-btn",onClick:n},"Add row"))))})),S=function(){return a.a.createElement("div",{className:"table-container"},a.a.createElement("div",{className:"table-wrapper"},a.a.createElement("table",{className:"table"},a.a.createElement(C,null),a.a.createElement(j,null),a.a.createElement(D,null))))},A=n(14);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=Object(c.b)(null,(function(e){return{generateTable:function(t){return e(function(e){return{type:"GENERATE_TABLE",tableVars:e}}(t))},loading:function(){return e({type:"LOADING"})},loaded:function(){return e({type:"LOADED"})}}}))((function(e){var t=e.generateTable,n=e.loading,u=e.loaded,l=Object(r.useState)({rowCount:5,columnCount:3,nearestCount:1}),c=Object(A.a)(l,2),o=c[0],i=c[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o.rowCount&&o.columnCount&&o.nearestCount&&(n(),t(o),setTimeout(u,1e3))},className:"starting-form"},a.a.createElement("h2",null,"Set number of table ",a.a.createElement("br",null)," rows and columns"),a.a.createElement("label",{className:"starting-form__label"},"Rows",a.a.createElement("input",{type:"number",min:"1",max:"10",placeholder:"Rows",value:o.rowCount,onChange:function(e){var t=e.target;i((function(e){return T({},e,{rowCount:t.value})}))}})),a.a.createElement("label",{className:"starting-form__label"},"Columns",a.a.createElement("input",{type:"number",min:"1",max:"5",placeholder:"Columns",value:o.columnCount,onChange:function(e){var t=e.target;i((function(e){return T({},e,{columnCount:t.value})}))}})),a.a.createElement("label",{className:"starting-form__label"},"Highlighted cells",a.a.createElement("input",{type:"number",min:"1",max:"5",placeholder:"Highlighted cells",value:o.nearestCount,onChange:function(e){var t=e.target;i((function(e){return T({},e,{nearestCount:t.value})}))}})),a.a.createElement("button",{type:"submit"},"Generate table"))})),M=Object(c.b)((function(e){return{nums:e.nums,loading:e.loading,loaded:e.loaded}}),null)((function(e){var t=e.nums,n=e.loading,r=e.loaded;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"MN Matrix"),!n&&0===t.length&&a.a.createElement(L,null),n&&a.a.createElement(h,null),r&&t.length>0&&a.a.createElement(S,null))}));l.a.render(a.a.createElement((function(){return a.a.createElement(c.a,{store:y},a.a.createElement(M,null))}),null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c63321f5.chunk.js.map