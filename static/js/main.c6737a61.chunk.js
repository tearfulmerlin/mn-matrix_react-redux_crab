(window["webpackJsonpmn-matrix_react-redux"]=window["webpackJsonpmn-matrix_react-redux"]||[]).push([[0],{19:function(e,t,n){e.exports=n(34)},29:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(4),l=n.n(u),c=n(1),o=(n(29),n(15)),s=n(6),i=n(5),m=n(12),f=n.n(m),d=function(){var e;do{e=Math.trunc(1e3*Math.random())}while(e<100);return{uuid:f()(),value:e}},E=function(e){for(var t=e.rowCount,n=e.columnCount,r=[],a=0;a<t;a++){r.push([]);for(var u=0;u<n;u++)r[a].push(d())}return r},b=function(e){for(var t=[],n=0;n<e;n++)t.push(d());return t};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=Object(i.b)((function(e,t){switch(t.type){case"LOADING":return v({},e,{loading:!0,loaded:!1});case"LOADED":return v({},e,{loading:!1,loaded:!0});case"GENERATE_TABLE":return v({},e,{nearestCount:t.tableVars.nearestCount,rowCount:t.tableVars.rowCount,columnCount:t.tableVars.columnCount,nums:E(t.tableVars)});case"ADD_ROW":return v({},e,{nums:[].concat(Object(o.a)(e.nums),[b(e.columnCount)])});case"REMOVE_ROW":return v({},e,{nums:e.nums.filter((function(e,n){return n!==t.rowIndex}))});case"INCREASE":return v({},e,{nums:e.nums.map((function(e){return e.map((function(e){return e.uuid!==t.uuid?e:v({},e,{value:e.value+1})}))}))});case"DECREASE":return v({},e,{nums:e.nums.map((function(e){return e.map((function(e){return e.uuid!==t.uuid?e:v({},e,{value:e.value-1})}))}))});case"SET_PERCENTAGE_ROW":return v({},e,{percentageRow:t.rowIndex});default:return e}}),{rowCount:null,columnCount:null,nearestCount:null,nums:[],startLoading:!1,finishLoading:!1,percentageRow:null}),g=n(13),O=n(17),h=n(14),y=n(18),C=(n(32),n(33),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"scaling-squares-spinner"},a.a.createElement("div",{className:"square"}),a.a.createElement("div",{className:"square"}),a.a.createElement("div",{className:"square"}),a.a.createElement("div",{className:"square"})),a.a.createElement("p",{className:"spinner-header"},"Table construction is in progress..."))}),_=Object(c.b)((function(e){return{nums:e.nums}}),null)((function(e){var t=e.nums;return a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Row"),t[0].map((function(e,t){return a.a.createElement("th",{key:t},"Column ",t+1)})),a.a.createElement("th",null,"Sum")))})),j=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r][t].value;return Math.trunc(n/e.length)},N=Object(c.b)((function(e){return{nums:e.nums}}),null)((function(e){var t=e.nums;return a.a.createElement("tfoot",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Average"),t[0].map((function(e,n){return a.a.createElement("td",{key:n},j(t,n))})),a.a.createElement("td",null)))})),R=function(e){return e.reduce((function(e,t){var n=t.value;return e.value+n||e+n}))},D=Object(c.b)(null,(function(e){return{increase:function(t){return e(function(e){return{type:"INCREASE",uuid:e}}(t))},decrease:function(t){return e(function(e){return{type:"DECREASE",uuid:e}}(t))}}}))((function(e){var t=e.cell,n=e.increase,r=e.decrease,u=e.rowSum,l=Math.round(t.value/u*1e4)/100;return a.a.createElement("td",{className:"table__cell",onClick:function(){return n(t.uuid)},onContextMenu:function(e){e.preventDefault(),r(t.uuid)}},a.a.createElement("div",{className:"table__cell-container"},a.a.createElement("span",{className:"table__cell-absolut"},t.value),a.a.createElement("div",{className:"table__cell-percentage"},a.a.createElement("div",{className:"chart",style:{height:"".concat(l,"%")}}),"".concat(l,"%"))))})),A=Object(c.b)((function(e){return{percentageRow:e.percentageRow}}),(function(e){return{removeRow:function(t){return e(function(e){return{type:"REMOVE_ROW",rowIndex:e}}(t))},setPercentageRow:function(t){return e(function(e){return{type:"SET_PERCENTAGE_ROW",rowIndex:e}}(t))}}}))((function(e){var t=e.row,n=e.rowIndex,r=e.removeRow,u=e.percentageRow,l=e.setPercentageRow,c=R(t);return a.a.createElement("tr",{className:n===u&&"table__row--show-percentage"},a.a.createElement("td",{className:"table__row-name",onClick:function(){return r(n)}},a.a.createElement("span",{className:"table__row-title"},"Row ",n+1),a.a.createElement("span",{className:"table__row-action"},"Remove row")),t.map((function(e){return a.a.createElement(D,{cell:e,rowSum:c,key:e.uuid})})),a.a.createElement("td",{onMouseOver:function(){console.log("over",n),l(n)},onMouseLeave:function(){return l(null)}},c))})),P=Object(c.b)((function(e){return{nums:e.nums}}),(function(e){return{addRow:function(){return e({type:"ADD_ROW"})}}}))((function(e){var t=e.nums,n=e.addRow;return a.a.createElement("tbody",null,t.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(A,{row:e,rowIndex:t}))})),a.a.createElement("tr",null,a.a.createElement("td",{className:"table__add-row"},a.a.createElement("button",{type:"button",className:"table__add-btn",onClick:n},"Add row"))))})),x=function(){return a.a.createElement("div",{className:"table-container"},a.a.createElement("div",{className:"table-wrapper"},a.a.createElement("table",{className:"table"},a.a.createElement(_,null),a.a.createElement(N,null),a.a.createElement(P,null))))},S=n(16);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=Object(c.b)(null,(function(e){return{generateTable:function(t){return e(function(e){return{type:"GENERATE_TABLE",tableVars:e}}(t))},loading:function(){return e({type:"LOADING"})},loaded:function(){return e({type:"LOADED"})}}}))((function(e){var t=e.generateTable,n=e.loading,u=e.loaded,l=Object(r.useState)({rowCount:5,columnCount:3,nearestCount:1}),c=Object(S.a)(l,2),o=c[0],s=c[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o.rowCount&&o.columnCount&&o.nearestCount&&(n(),t(o),setTimeout(u,1e3))},className:"starting-form"},a.a.createElement("h2",null,"Set number of table ",a.a.createElement("br",null)," rows and columns"),a.a.createElement("label",{className:"starting-form__label"},"Rows",a.a.createElement("input",{type:"number",min:"1",max:"10",placeholder:"Rows",value:o.rowCount,onChange:function(e){var t=e.target;s((function(e){return k({},e,{rowCount:t.value})}))}})),a.a.createElement("label",{className:"starting-form__label"},"Columns",a.a.createElement("input",{type:"number",min:"1",max:"5",placeholder:"Columns",value:o.columnCount,onChange:function(e){var t=e.target;s((function(e){return k({},e,{columnCount:t.value})}))}})),a.a.createElement("label",{className:"starting-form__label"},"Highlighted cells",a.a.createElement("input",{type:"number",min:"1",max:"5",placeholder:"Highlighted cells",value:o.nearestCount,onChange:function(e){var t=e.target;s((function(e){return k({},e,{nearestCount:t.value})}))}})),a.a.createElement("button",{type:"submit"},"Generate table"))})),M=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];return(n=Object(O.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(u)))).render=function(){var e=n.props,t=e.nums,r=e.loading,u=e.loaded;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"MN Matrix"),!r&&0===t.length&&a.a.createElement(I,null),r&&a.a.createElement(C,null),u&&t.length>0&&a.a.createElement(x,null))},n}return Object(y.a)(t,e),t}(a.a.Component),L=Object(c.b)((function(e){return{nums:e.nums,loading:e.loading,loaded:e.loaded}}),null)(M);l.a.render(a.a.createElement((function(){return a.a.createElement(c.a,{store:w},a.a.createElement(L,null))}),null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.c6737a61.chunk.js.map